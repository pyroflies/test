<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link href="https://fonts.googleapis.com/css?family=Roboto:100,300,400" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/4.13.0/d3.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.js"></script>
    <style>
        body {
            font-family: 'Roboto', sans-serif;
            color: #3a89ea;
            /*background-color: #070d2f;*/
            -webkit-user-select: none;  /* Chrome all / Safari all */
            -moz-user-select: none;     /* Firefox all */
            -ms-user-select: none;      /* IE 10+ */
            user-select: none;          /* Likely future */   
        }
        #chartContainer {
            position: relative;
        }

        .area {
            fill: #2471d0;
        }
        .line {
            stroke: #2471d0;
            stroke-width: 2;
            stroke-opacity: 1;
        }
        .baseline {
            stroke: #2471d0;
            stroke-width: 1;
            stroke-opacity: 0.5;
        }
        .grid line, .grid path {
          stroke: #bccee4;
          stroke-opacity: 0.7;
        }

        .y-axis-text {
            text-anchor: middle;
            fill: #2471d0;
        }
        .y.axis path, .y.axis line {
            stroke: #2471d0;
        }
        .y.axis text {
            fill: #2471d0;
        }

        .x-axis-text {
            text-anchor: middle;
            fill: #2471d0;
        }
        .x.axis path, .x.axis line {
            stroke: #2471d0;
        }
        .x.axis text {
            fill: #2471d0;
        }

        .tooltip {
          opacity: 0;
          position: absolute;
          text-align: center;
          width: 100px;
          padding: 4px;
          font: 12px sans-serif;
          background: #3f51b5;
          color: white;
          border-radius: 3px;
          pointer-events: none;
        }
        .tooltip:before {
          box-sizing: border-box;
          display: inline;
          font-size: 10px;
          width: 100%;
          line-height: 1;
          color: #3f51b5;
          content: "\25BC";
          position: absolute;
          left: 1px;
          bottom: -9px;
        }
        .tooltip-data {
          margin: 2px 0;
        }

    </style>
    <title>PlugShare Elevation Chart</title>
</head>
<body>
    <div id="chartContainer">
        <svg id="elevationChart"></svg>
    </div>
    <script type="text/javascript">
        var xScale, yScale, distanceScale;
        var width, height, svg;
        var margin = {top: 0, right: 0, bottom: 0, left: 0};
        var padding = {top: 50, right: 50, bottom: 50, left: 70};
        // TODO: clean data between meters and feet
        var distance = 12000;
        var points = [
            {
              "elevation" : 4364.51904296875,
              "location" : {
                 "lat" : 36.579,
                 "lng" : -118.292
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 3854.914794921875,
              "location" : {
                 "lat" : 36.58027743125056,
                 "lng" : -118.2812891603664
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 3454.93994140625,
              "location" : {
                 "lat" : 36.58155390425894,
                 "lng" : -118.2705779664145
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 3174.490478515625,
              "location" : {
                 "lat" : 36.58282941894879,
                 "lng" : -118.259866418382
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 2916.78564453125,
              "location" : {
                 "lat" : 36.5841039752439,
                 "lng" : -118.2491545165066
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 2616.219970703125,
              "location" : {
                 "lat" : 36.58537757306806,
                 "lng" : -118.2384422610263
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 2510.52978515625,
              "location" : {
                 "lat" : 36.58665021234511,
                 "lng" : -118.2277296521791
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 2400.45068359375,
              "location" : {
                 "lat" : 36.58792189299896,
                 "lng" : -118.2170166902028
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 2212.234619140625,
              "location" : {
                 "lat" : 36.58919261495355,
                 "lng" : -118.2063033753356
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1936.267578125,
              "location" : {
                 "lat" : 36.59046237813291,
                 "lng" : -118.1955897078158
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1815.580444335938,
              "location" : {
                 "lat" : 36.59173118246108,
                 "lng" : -118.1848756878817
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1726.931640625,
              "location" : {
                 "lat" : 36.59299902786216,
                 "lng" : -118.1741613157715
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1654.333984375,
              "location" : {
                 "lat" : 36.5942659142603,
                 "lng" : -118.1634465917237
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1585.869018554688,
              "location" : {
                 "lat" : 36.59553184157972,
                 "lng" : -118.1527315159769
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1583.029174804688,
              "location" : {
                 "lat" : 36.59679680974467,
                 "lng" : -118.1420160887697
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1491.170043945312,
              "location" : {
                 "lat" : 36.59806081867943,
                 "lng" : -118.1313003103406
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1411.0693359375,
              "location" : {
                 "lat" : 36.59932386830839,
                 "lng" : -118.1205841809286
              },
              "resolution" : 610.8129272460938
            },
            {
              "elevation" : 1374.710815429688,
              "location" : {
                 "lat" : 36.60058595855594,
                 "lng" : -118.1098677007724
              },
              "resolution" : 610.8129272460938
            },
            {
              "elevation" : 1319.739868164062,
              "location" : {
                 "lat" : 36.60184708934656,
                 "lng" : -118.099150870111
              },
              "resolution" : 610.8129272460938
            },
            {
              "elevation" : 1330.57958984375,
              "location" : {
                 "lat" : 36.60310726060472,
                 "lng" : -118.0884336891834
              },
              "resolution" : 610.8129272460938
            },
            {
              "elevation" : 1210.119873046875,
              "location" : {
                 "lat" : 36.60436647225501,
                 "lng" : -118.0777161582288
              },
              "resolution" : 610.8129272460938
            },
            {
              "elevation" : 1143.293823242188,
              "location" : {
                 "lat" : 36.60562472422203,
                 "lng" : -118.0669982774861
              },
              "resolution" : 610.8129272460938
            },
            {
              "elevation" : 1135.482055664062,
              "location" : {
                 "lat" : 36.60059780545564,
                 "lng" : -118.0602689508698
              },
              "resolution" : 610.8129272460938
            },
            {
              "elevation" : 1129.243041992188,
              "location" : {
                 "lat" : 36.59289781025921,
                 "lng" : -118.0552369571949
              },
              "resolution" : 610.8129272460938
            },
            {
              "elevation" : 1123.12060546875,
              "location" : {
                 "lat" : 36.58519760358475,
                 "lng" : -118.0502059676301
              },
              "resolution" : 610.8129272460938
            },
            {
              "elevation" : 1118.731201171875,
              "location" : {
                 "lat" : 36.57749718553382,
                 "lng" : -118.0451759817208
              },
              "resolution" : 610.8129272460938
            },
            {
              "elevation" : 1118.606201171875,
              "location" : {
                 "lat" : 36.56979655620791,
                 "lng" : -118.0401469990125
              },
              "resolution" : 610.8129272460938
            },
            {
              "elevation" : 1118.503662109375,
              "location" : {
                 "lat" : 36.5620957157085,
                 "lng" : -118.035119019051
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1117.115844726562,
              "location" : {
                 "lat" : 36.55439466413696,
                 "lng" : -118.0300920413823
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1117.819580078125,
              "location" : {
                 "lat" : 36.54669340159466,
                 "lng" : -118.0250660655527
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1107.944580078125,
              "location" : {
                 "lat" : 36.53899192818287,
                 "lng" : -118.0200410911084
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1090.274169921875,
              "location" : {
                 "lat" : 36.53129024400285,
                 "lng" : -118.0150171175962
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1087.944580078125,
              "location" : {
                 "lat" : 36.52358834915577,
                 "lng" : -118.0099941445628
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1086.671264648438,
              "location" : {
                 "lat" : 36.51588624374278,
                 "lng" : -118.0049721715554
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1085.842529296875,
              "location" : {
                 "lat" : 36.50818392786495,
                 "lng" : -117.9999511981212
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1084.405151367188,
              "location" : {
                 "lat" : 36.50048140162332,
                 "lng" : -117.9949312238076
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1083.00244140625,
              "location" : {
                 "lat" : 36.49277866511886,
                 "lng" : -117.9899122481624
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1082.590942382812,
              "location" : {
                 "lat" : 36.48507571845249,
                 "lng" : -117.9848942707334
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1082.5107421875,
              "location" : {
                 "lat" : 36.4773725617251,
                 "lng" : -117.9798772910687
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1082.412475585938,
              "location" : {
                 "lat" : 36.46966919503749,
                 "lng" : -117.9748613087166
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1083,
              "location" : {
                 "lat" : 36.46196561849042,
                 "lng" : -117.9698463232257
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1083,
              "location" : {
                 "lat" : 36.45426183218463,
                 "lng" : -117.9648323341447
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1083,
              "location" : {
                 "lat" : 36.44655783622077,
                 "lng" : -117.9598193410226
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1083,
              "location" : {
                 "lat" : 36.43885363069943,
                 "lng" : -117.9548073434083
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1082.3046875,
              "location" : {
                 "lat" : 36.43340320434991,
                 "lng" : -117.9484525484831
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1082.974243164062,
              "location" : {
                 "lat" : 36.43508109267437,
                 "lng" : -117.9378476645039
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1082.709106445312,
              "location" : {
                 "lat" : 36.43675804306499,
                 "lng" : -117.9272423221256
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1082.679565429688,
              "location" : {
                 "lat" : 36.43843405542381,
                 "lng" : -117.9166365215568
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1084.55615234375,
              "location" : {
                 "lat" : 36.44010912965287,
                 "lng" : -117.9060302630059
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1086.2216796875,
              "location" : {
                 "lat" : 36.44178326565428,
                 "lng" : -117.8954235466817
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1086.840087890625,
              "location" : {
                 "lat" : 36.44345646333016,
                 "lng" : -117.8848163727929
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1087.307861328125,
              "location" : {
                 "lat" : 36.4451287225827,
                 "lng" : -117.8742087415484
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1087.858642578125,
              "location" : {
                 "lat" : 36.44680004331415,
                 "lng" : -117.8636006531571
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1090.103271484375,
              "location" : {
                 "lat" : 36.44847042542676,
                 "lng" : -117.8529921078282
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1114.207763671875,
              "location" : {
                 "lat" : 36.45013986882284,
                 "lng" : -117.8423831057707
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1165.338500976562,
              "location" : {
                 "lat" : 36.45180837340475,
                 "lng" : -117.8317736471941
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1226.654052734375,
              "location" : {
                 "lat" : 36.45347593907492,
                 "lng" : -117.8211637323076
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1305.61328125,
              "location" : {
                 "lat" : 36.45514256573576,
                 "lng" : -117.8105533613207
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1413.642822265625,
              "location" : {
                 "lat" : 36.45680825328977,
                 "lng" : -117.7999425344431
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1688.6376953125,
              "location" : {
                 "lat" : 36.45847300163948,
                 "lng" : -117.7893312518843
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1727.935546875,
              "location" : {
                 "lat" : 36.46013681068747,
                 "lng" : -117.7787195138542
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1805.139038085938,
              "location" : {
                 "lat" : 36.46179968033634,
                 "lng" : -117.7681073205627
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 2044.45166015625,
              "location" : {
                 "lat" : 36.46346161048878,
                 "lng" : -117.7574946722197
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 2126.115478515625,
              "location" : {
                 "lat" : 36.46512260104747,
                 "lng" : -117.7468815690353
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 2044.165405273438,
              "location" : {
                 "lat" : 36.46678265191517,
                 "lng" : -117.7362680112197
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1997.77783203125,
              "location" : {
                 "lat" : 36.46844176299466,
                 "lng" : -117.7256539989833
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1958.702514648438,
              "location" : {
                 "lat" : 36.4700999341888,
                 "lng" : -117.7150395325363
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1837.749389648438,
              "location" : {
                 "lat" : 36.47175716540044,
                 "lng" : -117.7044246120893
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1776.307250976562,
              "location" : {
                 "lat" : 36.47341345653253,
                 "lng" : -117.6938092378529
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1749.744384765625,
              "location" : {
                 "lat" : 36.47506880748801,
                 "lng" : -117.6831934100377
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1725.082153320312,
              "location" : {
                 "lat" : 36.47672321816992,
                 "lng" : -117.6725771288545
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1718.896606445312,
              "location" : {
                 "lat" : 36.47837668848128,
                 "lng" : -117.6619603945143
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1696.466186523438,
              "location" : {
                 "lat" : 36.48002921832521,
                 "lng" : -117.651343207228
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1626.9755859375,
              "location" : {
                 "lat" : 36.48168080760485,
                 "lng" : -117.6407255672067
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1621.624389648438,
              "location" : {
                 "lat" : 36.48333145622338,
                 "lng" : -117.6301074746617
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1622.141845703125,
              "location" : {
                 "lat" : 36.48498116408402,
                 "lng" : -117.6194889298041
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1633.511596679688,
              "location" : {
                 "lat" : 36.48662993109006,
                 "lng" : -117.6088699328454
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1681.606201171875,
              "location" : {
                 "lat" : 36.48827775714479,
                 "lng" : -117.5982504839971
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1717.080444335938,
              "location" : {
                 "lat" : 36.4899246421516,
                 "lng" : -117.5876305834708
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1857.6005859375,
              "location" : {
                 "lat" : 36.49157058601388,
                 "lng" : -117.5770102314782
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1839.995849609375,
              "location" : {
                 "lat" : 36.49321558863507,
                 "lng" : -117.5663894282311
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1760.767456054688,
              "location" : {
                 "lat" : 36.49485964991868,
                 "lng" : -117.5557681739413
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1585.163330078125,
              "location" : {
                 "lat" : 36.49650276976823,
                 "lng" : -117.5451464688209
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1469.783569335938,
              "location" : {
                 "lat" : 36.49814494808731,
                 "lng" : -117.534524313082
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1311.055908203125,
              "location" : {
                 "lat" : 36.49978618477954,
                 "lng" : -117.5239017069368
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1281.863403320312,
              "location" : {
                 "lat" : 36.50142647974859,
                 "lng" : -117.5132786505975
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1452.223876953125,
              "location" : {
                 "lat" : 36.50306583289816,
                 "lng" : -117.5026551442766
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1445.623291015625,
              "location" : {
                 "lat" : 36.50470424413201,
                 "lng" : -117.4920311881866
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1663.778198242188,
              "location" : {
                 "lat" : 36.50634171335395,
                 "lng" : -117.48140678254
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1433.391723632812,
              "location" : {
                 "lat" : 36.50797824046781,
                 "lng" : -117.4707819275497
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1618.535888671875,
              "location" : {
                 "lat" : 36.50961382537749,
                 "lng" : -117.4601566234282
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1451.479248046875,
              "location" : {
                 "lat" : 36.51124846798692,
                 "lng" : -117.4495308703887
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1951.480590820312,
              "location" : {
                 "lat" : 36.51288216820006,
                 "lng" : -117.438904668644
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1712.478271484375,
              "location" : {
                 "lat" : 36.51451492592096,
                 "lng" : -117.4282780184073
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1405.230590820312,
              "location" : {
                 "lat" : 36.51614674105366,
                 "lng" : -117.4176509198917
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1258.987670898438,
              "location" : {
                 "lat" : 36.51777761350228,
                 "lng" : -117.4070233733106
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1206.838500976562,
              "location" : {
                 "lat" : 36.51940754317097,
                 "lng" : -117.3963953788774
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1174.720947265625,
              "location" : {
                 "lat" : 36.52103652996392,
                 "lng" : -117.3857669368056
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1357.207397460938,
              "location" : {
                 "lat" : 36.52266457378538,
                 "lng" : -117.3751380473087
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1223.472534179688,
              "location" : {
                 "lat" : 36.52429167453965,
                 "lng" : -117.3645087106005
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1026.149047851562,
              "location" : {
                 "lat" : 36.52591783213104,
                 "lng" : -117.3538789268948
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1072.194091796875,
              "location" : {
                 "lat" : 36.52754304646393,
                 "lng" : -117.3432486964055
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1487.580932617188,
              "location" : {
                 "lat" : 36.52916731744272,
                 "lng" : -117.3326180193465
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1225.739624023438,
              "location" : {
                 "lat" : 36.53079064497192,
                 "lng" : -117.321986895932
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1051.660522460938,
              "location" : {
                 "lat" : 36.532413028956,
                 "lng" : -117.3113553263761
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 848.6633911132812,
              "location" : {
                 "lat" : 36.53403446929952,
                 "lng" : -117.3007233108933
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 687.6732788085938,
              "location" : {
                 "lat" : 36.53565496590707,
                 "lng" : -117.2900908496978
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 648.093994140625,
              "location" : {
                 "lat" : 36.53727451868333,
                 "lng" : -117.2794579430042
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 474.5170593261719,
              "location" : {
                 "lat" : 36.53889312753293,
                 "lng" : -117.2688245910271
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 420.8971862792969,
              "location" : {
                 "lat" : 36.54051079236065,
                 "lng" : -117.2581907939811
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 385.8526000976562,
              "location" : {
                 "lat" : 36.54212751307124,
                 "lng" : -117.2475565520811
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 362.582763671875,
              "location" : {
                 "lat" : 36.5437432895695,
                 "lng" : -117.2369218655419
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 346.0422973632812,
              "location" : {
                 "lat" : 36.54535812176034,
                 "lng" : -117.2262867345787
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 336.2397155761719,
              "location" : {
                 "lat" : 36.54697200954865,
                 "lng" : -117.2156511594064
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 325.3085327148438,
              "location" : {
                 "lat" : 36.54858495283936,
                 "lng" : -117.2050151402402
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 375.3032531738281,
              "location" : {
                 "lat" : 36.5501969515375,
                 "lng" : -117.1943786772955
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 376.6548156738281,
              "location" : {
                 "lat" : 36.5518080055481,
                 "lng" : -117.1837417707876
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 511.821533203125,
              "location" : {
                 "lat" : 36.55341811477626,
                 "lng" : -117.1731044209321
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 676.8491821289062,
              "location" : {
                 "lat" : 36.55502727912709,
                 "lng" : -117.1624666279445
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 705.092529296875,
              "location" : {
                 "lat" : 36.55663549850579,
                 "lng" : -117.1518283920405
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 801.5758056640625,
              "location" : {
                 "lat" : 36.55824277281756,
                 "lng" : -117.1411897134359
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 557.1640625,
              "location" : {
                 "lat" : 36.55984910196769,
                 "lng" : -117.1305505923467
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 992.6568603515625,
              "location" : {
                 "lat" : 36.56145448586147,
                 "lng" : -117.1199110289887
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 863.4529418945312,
              "location" : {
                 "lat" : 36.56305892440428,
                 "lng" : -117.1092710235781
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 740.6608276367188,
              "location" : {
                 "lat" : 36.5646624175015,
                 "lng" : -117.0986305763312
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 799.5206298828125,
              "location" : {
                 "lat" : 36.56626496505859,
                 "lng" : -117.087989687464
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 665.4559326171875,
              "location" : {
                 "lat" : 36.56786656698104,
                 "lng" : -117.0773483571932
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 296.1614074707031,
              "location" : {
                 "lat" : 36.56946722317438,
                 "lng" : -117.0667065857351
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 243.0545196533203,
              "location" : {
                 "lat" : 36.57106693354419,
                 "lng" : -117.0560643733063
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 130.8307952880859,
              "location" : {
                 "lat" : 36.57266569799612,
                 "lng" : -117.0454217201235
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 76.95804595947266,
              "location" : {
                 "lat" : 36.57426351643581,
                 "lng" : -117.0347786264035
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 24.48856735229492,
              "location" : {
                 "lat" : 36.575860388769,
                 "lng" : -117.0241350923632
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : -10.56843566894531,
              "location" : {
                 "lat" : 36.57745631490143,
                 "lng" : -117.0134911182196
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : -5.325284957885742,
              "location" : {
                 "lat" : 36.57905129473892,
                 "lng" : -117.0028467041897
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : -27.01791381835938,
              "location" : {
                 "lat" : 36.58064532818734,
                 "lng" : -116.9922018504908
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : -55.65340042114258,
              "location" : {
                 "lat" : 36.58223841515255,
                 "lng" : -116.98155655734
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : -69.40966796875,
              "location" : {
                 "lat" : 36.58383055554053,
                 "lng" : -116.9709108249548
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : -71.55904388427734,
              "location" : {
                 "lat" : 36.58542174925723,
                 "lng" : -116.9602646535526
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : -67.02348327636719,
              "location" : {
                 "lat" : 36.58701199620871,
                 "lng" : -116.9496180433511
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : -65.87046813964844,
              "location" : {
                 "lat" : 36.58634118686599,
                 "lng" : -116.9465391060691
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : -72.22905731201172,
              "location" : {
                 "lat" : 36.58195704806248,
                 "lng" : -116.9558909344791
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : -68.71900177001953,
              "location" : {
                 "lat" : 36.57757217885129,
                 "lng" : -116.9652417006868
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : -68.78020477294922,
              "location" : {
                 "lat" : 36.57318657943217,
                 "lng" : -116.9745914048059
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : -74.05198669433594,
              "location" : {
                 "lat" : 36.56880025000484,
                 "lng" : -116.98394004695
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : -53.61849594116211,
              "location" : {
                 "lat" : 36.56441319076897,
                 "lng" : -116.9932876272329
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : -46.95066070556641,
              "location" : {
                 "lat" : 36.56002540192423,
                 "lng" : -117.0026341457686
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : -3.072119474411011,
              "location" : {
                 "lat" : 36.55563688367025,
                 "lng" : -117.0119796026711
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 60.2426872253418,
              "location" : {
                 "lat" : 36.55124763620661,
                 "lng" : -117.0213239980545
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 114.0762176513672,
              "location" : {
                 "lat" : 36.54685765973291,
                 "lng" : -117.030667332033
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 520.5162353515625,
              "location" : {
                 "lat" : 36.54246695444868,
                 "lng" : -117.0400096047209
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 497.2428283691406,
              "location" : {
                 "lat" : 36.53807552055341,
                 "lng" : -117.0493508162326
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 543.4988403320312,
              "location" : {
                 "lat" : 36.53368335824661,
                 "lng" : -117.0586909666828
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 980.498046875,
              "location" : {
                 "lat" : 36.52929046772771,
                 "lng" : -117.0680300561859
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 891.0542602539062,
              "location" : {
                 "lat" : 36.52489684919615,
                 "lng" : -117.0773680848567
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1046.362060546875,
              "location" : {
                 "lat" : 36.52050250285131,
                 "lng" : -117.0867050528101
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1388.533203125,
              "location" : {
                 "lat" : 36.51610742889255,
                 "lng" : -117.096040960161
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1615.50146484375,
              "location" : {
                 "lat" : 36.51171162751923,
                 "lng" : -117.1053758070244
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1894.59765625,
              "location" : {
                 "lat" : 36.50731509893063,
                 "lng" : -117.1147095935154
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1960.168212890625,
              "location" : {
                 "lat" : 36.50291784332603,
                 "lng" : -117.1240423197493
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1967.348876953125,
              "location" : {
                 "lat" : 36.49851986090469,
                 "lng" : -117.1333739858415
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1850.349243164062,
              "location" : {
                 "lat" : 36.49412115186583,
                 "lng" : -117.1427045919072
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1625.883544921875,
              "location" : {
                 "lat" : 36.4897217164086,
                 "lng" : -117.1520341380622
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1375.10107421875,
              "location" : {
                 "lat" : 36.4853215547322,
                 "lng" : -117.1613626244221
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1154.215698242188,
              "location" : {
                 "lat" : 36.48092066703574,
                 "lng" : -117.1706900511024
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1028.46923828125,
              "location" : {
                 "lat" : 36.47651905351832,
                 "lng" : -117.1800164182192
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1008.975646972656,
              "location" : {
                 "lat" : 36.47211671437901,
                 "lng" : -117.1893417258884
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1081.571899414062,
              "location" : {
                 "lat" : 36.46771364981684,
                 "lng" : -117.1986659742259
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 931.4352416992188,
              "location" : {
                 "lat" : 36.46330986003085,
                 "lng" : -117.2079891633479
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1029.25048828125,
              "location" : {
                 "lat" : 36.45890534521998,
                 "lng" : -117.2173112933708
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1014.320495605469,
              "location" : {
                 "lat" : 36.45450010558321,
                 "lng" : -117.2266323644107
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1078.57470703125,
              "location" : {
                 "lat" : 36.45009414131945,
                 "lng" : -117.2359523765843
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1099.371215820312,
              "location" : {
                 "lat" : 36.4456874526276,
                 "lng" : -117.2452713300079
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1259.329223632812,
              "location" : {
                 "lat" : 36.44128003970652,
                 "lng" : -117.2545892247982
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1355.102172851562,
              "location" : {
                 "lat" : 36.43687190275502,
                 "lng" : -117.2639060610721
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1465.593994140625,
              "location" : {
                 "lat" : 36.43246304197194,
                 "lng" : -117.2732218389463
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1606.3662109375,
              "location" : {
                 "lat" : 36.42805345755604,
                 "lng" : -117.2825365585377
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1820.919677734375,
              "location" : {
                 "lat" : 36.42364314970605,
                 "lng" : -117.2918502199635
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1970.791015625,
              "location" : {
                 "lat" : 36.41923211862069,
                 "lng" : -117.3011628233407
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 2005.33251953125,
              "location" : {
                 "lat" : 36.41482036449865,
                 "lng" : -117.3104743687867
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1818.265869140625,
              "location" : {
                 "lat" : 36.41040788753859,
                 "lng" : -117.3197848564187
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1840.70263671875,
              "location" : {
                 "lat" : 36.40599468793912,
                 "lng" : -117.3290942863541
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1347.90625,
              "location" : {
                 "lat" : 36.40158076589884,
                 "lng" : -117.3384026587106
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1154.530395507812,
              "location" : {
                 "lat" : 36.39716612161632,
                 "lng" : -117.3477099736058
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 690.2188720703125,
              "location" : {
                 "lat" : 36.39275075529007,
                 "lng" : -117.3570162311574
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 583.629638671875,
              "location" : {
                 "lat" : 36.38833466711865,
                 "lng" : -117.3663214314831
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 514.8367919921875,
              "location" : {
                 "lat" : 36.38391785730049,
                 "lng" : -117.3756255747011
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 488.1946105957031,
              "location" : {
                 "lat" : 36.37950032603405,
                 "lng" : -117.3849286609293
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 472.6583251953125,
              "location" : {
                 "lat" : 36.37508207351774,
                 "lng" : -117.3942306902858
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 469.8230285644531,
              "location" : {
                 "lat" : 36.37066309994997,
                 "lng" : -117.4035316628889
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 474.2801818847656,
              "location" : {
                 "lat" : 36.36624340552905,
                 "lng" : -117.4128315788569
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 484.3197937011719,
              "location" : {
                 "lat" : 36.36182299045335,
                 "lng" : -117.4221304383081
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 492.5918884277344,
              "location" : {
                 "lat" : 36.35740185492114,
                 "lng" : -117.4314282413613
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 504.1728820800781,
              "location" : {
                 "lat" : 36.35297999913072,
                 "lng" : -117.440724988135
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 527.7320556640625,
              "location" : {
                 "lat" : 36.3485574232803,
                 "lng" : -117.4500206787478
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 556.566162109375,
              "location" : {
                 "lat" : 36.34413412756808,
                 "lng" : -117.4593153133188
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 581.5830078125,
              "location" : {
                 "lat" : 36.33989275435233,
                 "lng" : -117.4673053512176
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 550.7990112304688,
              "location" : {
                 "lat" : 36.33825544139426,
                 "lng" : -117.4567036580195
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 521.681884765625,
              "location" : {
                 "lat" : 36.33661719212835,
                 "lng" : -117.4461024106541
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 496.8253479003906,
              "location" : {
                 "lat" : 36.33497800665008,
                 "lng" : -117.4355016093308
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 480.511962890625,
              "location" : {
                 "lat" : 36.33333788505495,
                 "lng" : -117.4249012542589
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 472.285888671875,
              "location" : {
                 "lat" : 36.33169682743851,
                 "lng" : -117.4143013456475
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 469.9129028320312,
              "location" : {
                 "lat" : 36.33005483389637,
                 "lng" : -117.4037018837058
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 470.06787109375,
              "location" : {
                 "lat" : 36.32841190452418,
                 "lng" : -117.3931028686427
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 472.6557006835938,
              "location" : {
                 "lat" : 36.32676803941761,
                 "lng" : -117.3825043006671
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 484.4912719726562,
              "location" : {
                 "lat" : 36.3251232386724,
                 "lng" : -117.3719061799878
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 511.417236328125,
              "location" : {
                 "lat" : 36.32347750238431,
                 "lng" : -117.3613085068136
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 549.2685546875,
              "location" : {
                 "lat" : 36.32183083064916,
                 "lng" : -117.3507112813528
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 621.7178955078125,
              "location" : {
                 "lat" : 36.32018322356284,
                 "lng" : -117.3401145038142
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 667.5525512695312,
              "location" : {
                 "lat" : 36.3185346812212,
                 "lng" : -117.3295181744061
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 783.2364501953125,
              "location" : {
                 "lat" : 36.31688520372021,
                 "lng" : -117.3189222933367
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 860.73974609375,
              "location" : {
                 "lat" : 36.31523479115587,
                 "lng" : -117.3083268608143
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1031.332153320312,
              "location" : {
                 "lat" : 36.3135834436242,
                 "lng" : -117.297731877047
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1264.77197265625,
              "location" : {
                 "lat" : 36.31193116122126,
                 "lng" : -117.2871373422427
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1352.87744140625,
              "location" : {
                 "lat" : 36.3102779440432,
                 "lng" : -117.2765432566094
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1361.838012695312,
              "location" : {
                 "lat" : 36.30862379218616,
                 "lng" : -117.2659496203548
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1531.432739257812,
              "location" : {
                 "lat" : 36.30696870574634,
                 "lng" : -117.2553564336867
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1626.59912109375,
              "location" : {
                 "lat" : 36.30531268482002,
                 "lng" : -117.2447636968127
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1684.53173828125,
              "location" : {
                 "lat" : 36.30365572950345,
                 "lng" : -117.2341714099402
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1665.32763671875,
              "location" : {
                 "lat" : 36.30199783989299,
                 "lng" : -117.2235795732767
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1719.946411132812,
              "location" : {
                 "lat" : 36.30033901608499,
                 "lng" : -117.2129881870294
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1575.486938476562,
              "location" : {
                 "lat" : 36.2986792581759,
                 "lng" : -117.2023972514057
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1421.663452148438,
              "location" : {
                 "lat" : 36.29701856626217,
                 "lng" : -117.1918067666125
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1488.863037109375,
              "location" : {
                 "lat" : 36.2953569404403,
                 "lng" : -117.1812167328569
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1534.704345703125,
              "location" : {
                 "lat" : 36.29369438080684,
                 "lng" : -117.1706271503458
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1682.082641601562,
              "location" : {
                 "lat" : 36.29203088745839,
                 "lng" : -117.160038019286
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1679.107177734375,
              "location" : {
                 "lat" : 36.29036646049157,
                 "lng" : -117.1494493398842
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1849.812744140625,
              "location" : {
                 "lat" : 36.28870110000307,
                 "lng" : -117.138861112347
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1922.8662109375,
              "location" : {
                 "lat" : 36.28703480608959,
                 "lng" : -117.128273336881
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 2238.322021484375,
              "location" : {
                 "lat" : 36.28536757884792,
                 "lng" : -117.1176860136924
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 2412.862548828125,
              "location" : {
                 "lat" : 36.28369941837484,
                 "lng" : -117.1070991429878
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 2582.86328125,
              "location" : {
                 "lat" : 36.28203032476723,
                 "lng" : -117.0965127249731
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 2558.195556640625,
              "location" : {
                 "lat" : 36.28036029812194,
                 "lng" : -117.0859267598547
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 2574.728271484375,
              "location" : {
                 "lat" : 36.27868933853593,
                 "lng" : -117.0753412478384
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 2197.081787109375,
              "location" : {
                 "lat" : 36.27701744610616,
                 "lng" : -117.0647561891302
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 2232.521484375,
              "location" : {
                 "lat" : 36.27534462092967,
                 "lng" : -117.054171583936
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 2291.796142578125,
              "location" : {
                 "lat" : 36.2736708631035,
                 "lng" : -117.0435874324613
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1989.6787109375,
              "location" : {
                 "lat" : 36.27199617272476,
                 "lng" : -117.0330037349118
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1901.474609375,
              "location" : {
                 "lat" : 36.27032054989061,
                 "lng" : -117.0224204914931
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1653.174682617188,
              "location" : {
                 "lat" : 36.26864399469822,
                 "lng" : -117.0118377024106
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 1227.894287109375,
              "location" : {
                 "lat" : 36.26696650724483,
                 "lng" : -117.0012553678695
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 903.9697875976562,
              "location" : {
                 "lat" : 36.26528808762772,
                 "lng" : -116.9906734880751
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 725.3113403320312,
              "location" : {
                 "lat" : 36.2636087359442,
                 "lng" : -116.9800920632325
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 705.5218505859375,
              "location" : {
                 "lat" : 36.26192845229161,
                 "lng" : -116.9695110935467
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 526.8547973632812,
              "location" : {
                 "lat" : 36.26024723676738,
                 "lng" : -116.9589305792226
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 375.8922424316406,
              "location" : {
                 "lat" : 36.25856508946896,
                 "lng" : -116.948350520465
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 280.6340942382812,
              "location" : {
                 "lat" : 36.25688201049381,
                 "lng" : -116.9377709174787
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 193.3259124755859,
              "location" : {
                 "lat" : 36.25519799993947,
                 "lng" : -116.9271917704683
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 106.0523223876953,
              "location" : {
                 "lat" : 36.2535130579035,
                 "lng" : -116.9166130796382
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : 30.36572265625,
              "location" : {
                 "lat" : 36.25182718448355,
                 "lng" : -116.906034845193
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : -26.25095558166504,
              "location" : {
                 "lat" : 36.25014037977724,
                 "lng" : -116.8954570673368
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : -77.21119689941406,
              "location" : {
                 "lat" : 36.24845264388226,
                 "lng" : -116.884879746274
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : -85.05406188964844,
              "location" : {
                 "lat" : 36.24676397689637,
                 "lng" : -116.8743028822086
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : -85.37686920166016,
              "location" : {
                 "lat" : 36.24507437891737,
                 "lng" : -116.8637264753446
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : -85.33261108398438,
              "location" : {
                 "lat" : 36.24338385004305,
                 "lng" : -116.853150525886
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : -84.87680816650391,
              "location" : {
                 "lat" : 36.24169239037129,
                 "lng" : -116.8425750340366
              },
              "resolution" : 305.4064636230469
            },
            {
              "elevation" : -84.36591339111328,
              "location" : {
                 "lat" : 36.24,
                 "lng" : -116.832
              },
              "resolution" : 305.4064636230469
            }
            ]

        for (var x = 0; x < points.length; x++) {
          points[x].index = x;
        }

        function updateDimensions(winWidth, winHeight) {
            width = winWidth - margin.left - margin.right - padding.left - padding.right;
            height = winHeight - margin.top - margin.bottom - padding.top - padding.bottom;
        }

        function drawChartSVG() { // set up svg chart canvas
            svg = d3.select("#elevationChart")
                .attr("width", width)
                .attr("height", height)
                .style("padding", padding.top + " " + padding.right + " " + padding.bottom + " " + padding.left)
        }

        function roundUp5(x) {
            return Math.ceil((x+2)/5)*5;
        }

        function updateScale() {
            var y0Max = roundUp5(d3.max(points, function (d) { return d.elevation }));
            var y0Min = roundUp5(d3.min(points, function (d) { return d.elevation }));
            var range = y0Max - y0Min;
            y0Max += range/10;
            y0Min -= range/10;
            if (y0Min > 0)
              y0Min = 0;

            xScale = d3.scaleLinear()
                .rangeRound([0, width])
              .domain([0, points.length]);

            yScale = d3.scaleLinear()
                .rangeRound([height, 0])
              .domain([y0Min, y0Max]);

            distanceScale = d3.scaleLinear()
                .rangeRound([0, width])
              .domain([0, distance]);
        }

        function plotGrid() { // gridlines
            var yAxisGrid = d3.axisLeft(yScale).tickSize(-width).tickFormat("");
            svg.append("g")
                .attr("class", "grid y-left")
                .call(yAxisGrid);
        }

        function drawAxis() { // axis ticks and display text
            updateScale();
            plotGrid();

            var elAxis = svg.append("g").attr("class", "axis-container");

            elAxis.append("g")
                .attr("class", "y axis y-left")
                .call(d3.axisLeft(yScale));

            elAxis.append("text")
                .attr("transform", "rotate(-90)")
                .attr("y", 0 - padding.left)
                .attr("x", 0 - (height / 2))
                .attr("dy", "1em")
                .attr("class", "y-axis-text")
                .style("text-anchor", "middle")
                .text("Elevation (m)");

            var xAxis = d3.axisBottom(distanceScale);

            elAxis.append("g")
                .attr("class", "x axis")
                .attr("transform", "translate(0," + height + ")")
                .call(xAxis);
            elAxis.append("text")
                .attr("class", "x-axis-text")
                .attr("transform", "translate(" + (width / 2) + " ," + (height + margin.top + 40) + ")")
                .style("text-anchor", "middle")
                .text("Distance (m)");
        }

        function drawGraph() {
            var line = d3.line()
                .x(function (d) { return xScale(d.index) })
                .y(function (d) { return yScale(d.elevation) })
                .curve(d3.curveBasis);

            var area = d3.area()
                .x(function (d) { return xScale(d.index) })
                .y0(height)
                .y1(function (d) { return yScale(d.elevation) })
                .curve(d3.curveBasis);

            var elContainer = svg.append("g")
                .attr("class", "data-plot");

            var graphLine = elContainer.append("path")
              .datum(points)
                .attr("class", "line")
                .attr("fill", "none")
                .attr("stroke-linejoin", "round")
                .attr("stroke-linecap", "round")
                .attr("d", line);

            var totalLength = graphLine.node().getTotalLength();

            graphLine
                .attr('stroke-dasharray', totalLength + ' ' + totalLength)
                .attr('stroke-dashoffset', totalLength);

            var graphLineArea = elContainer.append('path')
              .datum(points)
                .attr("class", 'area')
                .style('fill-opacity', 0)
                .attr('d', area);

            var graphLineAreaTotalLength = graphLine.node().getTotalLength();
            graphLineArea
                .attr('stroke-dasharray', graphLineAreaTotalLength + ' ' + graphLineAreaTotalLength)
                .attr('stroke-dashoffset', graphLineAreaTotalLength);

            graphLine
              .transition()
                .duration(2000)
                .attr('stroke-dashoffset', 0);
            graphLineArea
              .transition()
                .duration(2000)
                .style('fill-opacity', 0.2)
              .transition()
                .duration(2000)
                .attr('stroke-dashoffset', 0);


            // mouse hover events
            var mouseG = svg.append("g")
              .attr("class", "mouse-over-effects");

            mouseG.append("path") // this is the vertical line to follow mouse
              .attr("class", "mouse-line")
              .style("stroke", "#2471d0")
              .style("stroke-width", "1px")
              .style("opacity", "1");
              
            var lines = document.getElementsByClassName('line');

            // current structure only has one line on this graph
            var dataLines = [{
              name: 'elevation',
              values: points,
            }];

            var mousePerLine = mouseG.selectAll('.mouse-per-line')
              .data(dataLines)
              .enter()
              .append("g")
              .attr("class", "mouse-per-line");

            mousePerLine.append("circle")
              .attr("r", 7)
              .style("stroke", "white")
              .style("fill", "#2471d0")
              .style("stroke-width", "2px")
              .style("opacity", "0");

            var tooltip = d3.select("#chartContainer").append("div") 
                .attr("class", "tooltip");

            // mousePerLine.append("text")
            //   .style("transform", "translate(12px, 5px)");

            mouseG.append('svg:rect') // append a rect to catch mouse movements on canvas
              .attr('width', width) // can't catch mouse events on a g element
              .attr('height', height)
              .attr('fill', 'none')
              .attr('pointer-events', 'all')
              .on('mouseout', function() { // on mouse out hide line, circles and text
                d3.select(".mouse-line")
                  .style("opacity", "0");
                d3.selectAll(".mouse-per-line circle")
                  .style("opacity", "0");
                d3.selectAll(".mouse-per-line text")
                  .style("opacity", "0");
                tooltip.style("opacity", "0");
              })
              .on('mouseover', function() { // on mouse in show line, circles and text
                d3.select(".mouse-line")
                  .style("opacity", "1");
                d3.selectAll(".mouse-per-line circle")
                  .style("opacity", "1");
                d3.selectAll(".mouse-per-line text")
                  .style("opacity", "1");
                tooltip.style("opacity", "1");
              })
              .on('mousemove', function() { // mouse moving over canvas
                var mouse = d3.mouse(this);
                d3.select(".mouse-line")
                  .attr("d", function() {
                    var d = "M" + mouse[0] + "," + height;
                    d += " " + mouse[0] + "," + 0;
                    return d;
                  });

                d3.selectAll(".mouse-per-line")
                  .attr("transform", function(d, i) {

                    var beginning = 0,
                        end = lines[i].getTotalLength(),
                        target = null,
                        pos = null;

                    while (true) {
                      target = Math.floor((beginning + end) / 2);
                      pos = lines[i].getPointAtLength(target);
                      // console.log(pos);
                      if ((target === end || target === beginning) && pos.x !== mouse[0]) {
                          break;
                      }
                      if (pos.x > mouse[0])      end = target;
                      else if (pos.x < mouse[0]) beginning = target;
                      else break; // position found
                    }
                    
                    var elevation = yScale.invert(pos.y).toFixed(0);
                    var distance = distanceScale.invert(pos.x).toFixed(0);
                    // d3.select(this).select('text')
                    //   .text(elevation);
                    tooltip.html("<div class='tooltip-data'>Elevation: " + elevation + "</div><div class='tooltip-data'>Distance: "  + distance + "</div>")
                        .style("left", (mouse[0] + 15) + "px")
                        .style("top", (pos.y - 8) + "px");

                      
                    return "translate(" + mouse[0] +  "," + pos.y +")";
                  });
              });
        }

        function plotGraph() {
          updateDimensions(window.innerWidth - 50, window.innerHeight - 50);
          drawChartSVG();
          drawAxis();
          drawGraph();
        }

        plotGraph();

    </script>

</body>
</html>
